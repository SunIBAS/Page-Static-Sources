{"version":3,"file":"static/chunks/pages/editor-b60d7efdc1c79e4f.js","mappings":"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","sources":["webpack://_N_E/?fb4d","webpack://_N_E/./src/features/editor/BottomBar.tsx","webpack://_N_E/./src/features/editor/FullscreenDropzone.tsx","webpack://_N_E/./src/pages/editor.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/editor\",\n      function () {\n        return require(\"private-next-pages/editor.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/editor\"])\n      });\n    }\n  ","import React from \"react\";\r\nimport Link from \"next/link\";\r\nimport { Flex, Popover, Text } from \"@mantine/core\";\r\nimport styled from \"styled-components\";\r\nimport { event as gaEvent } from \"nextjs-google-analytics\";\r\nimport { BiSolidDockLeft } from \"react-icons/bi\";\r\nimport {\r\n  VscCheck,\r\n  VscError,\r\n  VscFeedback,\r\n  VscRunAll,\r\n  VscSync,\r\n  VscSyncIgnored,\r\n} from \"react-icons/vsc\";\r\nimport useConfig from \"../../store/useConfig\";\r\nimport useFile from \"../../store/useFile\";\r\nimport useGraph from \"./views/GraphView/stores/useGraph\";\r\n\r\nconst StyledBottomBar = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-top: 1px solid ${({ theme }) => theme.BACKGROUND_MODIFIER_ACCENT};\r\n  background: ${({ theme }) => theme.TOOLBAR_BG};\r\n  max-height: 27px;\r\n  height: 27px;\r\n  z-index: 35;\r\n  padding-right: 6px;\r\n\r\n  @media screen and (max-width: 320px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst StyledLeft = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: left;\r\n  gap: 4px;\r\n  padding-left: 8px;\r\n\r\n  @media screen and (max-width: 480px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst StyledRight = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: right;\r\n  gap: 4px;\r\n`;\r\n\r\nconst StyledBottomBarItem = styled.button<{ $bg?: string }>`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  width: fit-content;\r\n  margin: 0;\r\n  height: 28px;\r\n  padding: 4px;\r\n  font-size: 12px;\r\n  font-weight: 400;\r\n  color: ${({ theme }) => theme.INTERACTIVE_NORMAL};\r\n  background: ${({ $bg }) => $bg};\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n\r\n  &:hover:not(&:disabled) {\r\n    background-image: linear-gradient(rgba(0, 0, 0, 0.1) 0 0);\r\n    color: ${({ theme }) => theme.INTERACTIVE_HOVER};\r\n  }\r\n\r\n  &:disabled {\r\n    opacity: 0.6;\r\n    cursor: default;\r\n  }\r\n`;\r\n\r\nexport const BottomBar = () => {\r\n  const data = useFile(state => state.fileData);\r\n  const toggleLiveTransform = useConfig(state => state.toggleLiveTransform);\r\n  const liveTransformEnabled = useConfig(state => state.liveTransformEnabled);\r\n  const error = useFile(state => state.error);\r\n  const setContents = useFile(state => state.setContents);\r\n  const nodeCount = useGraph(state => state.nodes.length);\r\n  const toggleFullscreen = useGraph(state => state.toggleFullscreen);\r\n  const fullscreen = useGraph(state => state.fullscreen);\r\n\r\n  const toggleEditor = () => {\r\n    toggleFullscreen(!fullscreen);\r\n    gaEvent(\"toggle_fullscreen\");\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (data?.name) window.document.title = `${data.name} | JSON Crack`;\r\n  }, [data]);\r\n\r\n  return (\r\n    <StyledBottomBar>\r\n      <StyledLeft>\r\n        <StyledBottomBarItem onClick={toggleEditor}>\r\n          <BiSolidDockLeft />\r\n        </StyledBottomBarItem>\r\n        <StyledBottomBarItem>\r\n          {error ? (\r\n            <Popover width=\"auto\" shadow=\"md\" position=\"top\" withArrow>\r\n              <Popover.Target>\r\n                <Flex align=\"center\" gap={2}>\r\n                  <VscError color=\"red\" />\r\n                  <Text c=\"red\" fw={500} fz=\"xs\">\r\n                    Invalid\r\n                  </Text>\r\n                </Flex>\r\n              </Popover.Target>\r\n              <Popover.Dropdown style={{ pointerEvents: \"none\" }}>\r\n                <Text size=\"xs\">{error}</Text>\r\n              </Popover.Dropdown>\r\n            </Popover>\r\n          ) : (\r\n            <Flex align=\"center\" gap={2}>\r\n              <VscCheck />\r\n              <Text size=\"xs\">Valid</Text>\r\n            </Flex>\r\n          )}\r\n        </StyledBottomBarItem>\r\n        <StyledBottomBarItem\r\n          onClick={() => {\r\n            toggleLiveTransform(!liveTransformEnabled);\r\n            gaEvent(\"toggle_live_transform\");\r\n          }}\r\n        >\r\n          {liveTransformEnabled ? <VscSync /> : <VscSyncIgnored />}\r\n          <Text fz=\"xs\">Live Transform</Text>\r\n        </StyledBottomBarItem>\r\n        {!liveTransformEnabled && (\r\n          <StyledBottomBarItem onClick={() => setContents({})} disabled={!!error}>\r\n            <VscRunAll />\r\n            Click to Transform\r\n          </StyledBottomBarItem>\r\n        )}\r\n      </StyledLeft>\r\n\r\n      <StyledRight>\r\n        <StyledBottomBarItem>Nodes: {nodeCount}</StyledBottomBarItem>\r\n        <Link\r\n          href=\"https://github.com/AykutSarac/jsoncrack.com/discussions\"\r\n          target=\"_blank\"\r\n          rel=\"noopener\"\r\n        >\r\n          <StyledBottomBarItem>\r\n            <VscFeedback />\r\n            Feedback\r\n          </StyledBottomBarItem>\r\n        </Link>\r\n      </StyledRight>\r\n    </StyledBottomBar>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Group, Text } from \"@mantine/core\";\r\nimport { Dropzone } from \"@mantine/dropzone\";\r\nimport toast from \"react-hot-toast\";\r\nimport { VscCircleSlash, VscFiles } from \"react-icons/vsc\";\r\nimport { FileFormat } from \"../../enums/file.enum\";\r\nimport useFile from \"../../store/useFile\";\r\n\r\nexport const FullscreenDropzone = () => {\r\n  const setContents = useFile(state => state.setContents);\r\n\r\n  return (\r\n    <Dropzone.FullScreen\r\n      maxSize={300 * 1024}\r\n      maxFiles={1}\r\n      accept={[\r\n        \"application/json\",\r\n        \"application/x-yaml\",\r\n        \"text/csv\",\r\n        \"application/xml\",\r\n        \"application/toml\",\r\n      ]}\r\n      onReject={files => toast.error(`Unable to load file ${files[0].file.name}`)}\r\n      onDrop={async e => {\r\n        const fileContent = await e[0].text();\r\n        let fileExtension = e[0].name.split(\".\").pop() as FileFormat | undefined;\r\n        if (!fileExtension) fileExtension = FileFormat.JSON;\r\n        setContents({ contents: fileContent, format: fileExtension, hasChanges: false });\r\n      }}\r\n    >\r\n      <Group\r\n        justify=\"center\"\r\n        ta=\"center\"\r\n        align=\"center\"\r\n        gap=\"xl\"\r\n        h=\"100vh\"\r\n        style={{ pointerEvents: \"none\" }}\r\n      >\r\n        <Dropzone.Accept>\r\n          <VscFiles size={100} />\r\n          <Text fz=\"h1\" fw={500} mt=\"lg\">\r\n            Upload to JSON Crack\r\n          </Text>\r\n          <Text fz=\"lg\" c=\"dimmed\" mt=\"sm\">\r\n            (Max file size: 300 KB)\r\n          </Text>\r\n        </Dropzone.Accept>\r\n        <Dropzone.Reject>\r\n          <VscCircleSlash size={100} />\r\n          <Text fz=\"h1\" fw={500} mt=\"lg\">\r\n            Invalid file\r\n          </Text>\r\n          <Text fz=\"lg\" c=\"dimmed\" mt=\"sm\">\r\n            Allowed formats are JSON, YAML, CSV, XML, TOML\r\n          </Text>\r\n        </Dropzone.Reject>\r\n      </Group>\r\n    </Dropzone.FullScreen>\r\n  );\r\n};\r\n","import { useEffect } from \"react\";\r\nimport dynamic from \"next/dynamic\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useMantineColorScheme } from \"@mantine/core\";\r\nimport \"@mantine/dropzone/styles.css\";\r\nimport styled, { ThemeProvider } from \"styled-components\";\r\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\r\nimport { Allotment } from \"allotment\";\r\nimport \"allotment/dist/style.css\";\r\nimport Cookie from \"js-cookie\";\r\nimport { NextSeo } from \"next-seo\";\r\nimport { SEO } from \"../constants/seo\";\r\nimport { darkTheme, lightTheme } from \"../constants/theme\";\r\nimport { BottomBar } from \"../features/editor/BottomBar\";\r\nimport { FullscreenDropzone } from \"../features/editor/FullscreenDropzone\";\r\nimport { Toolbar } from \"../features/editor/Toolbar\";\r\nimport useGraph from \"../features/editor/views/GraphView/stores/useGraph\";\r\nimport useConfig from \"../store/useConfig\";\r\nimport useFile from \"../store/useFile\";\r\nimport useModal from \"../store/useModal\";\r\n\r\nconst ModalController = dynamic(() => import(\"../features/modals/ModalController\"));\r\nconst ExternalMode = dynamic(() => import(\"../features/editor/ExternalMode\"));\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      refetchOnWindowFocus: false,\r\n      retry: false,\r\n    },\r\n  },\r\n});\r\n\r\nexport const StyledPageWrapper = styled.div`\r\n  height: calc(100vh - 27px);\r\n  width: 100%;\r\n\r\n  @media only screen and (max-width: 320px) {\r\n    height: 100vh;\r\n  }\r\n`;\r\n\r\nexport const StyledEditorWrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const StyledEditor = styled(Allotment)`\r\n  position: relative !important;\r\n  display: flex;\r\n  background: ${({ theme }) => theme.BACKGROUND_SECONDARY};\r\n  height: calc(100vh - 67px);\r\n\r\n  @media only screen and (max-width: 320px) {\r\n    height: 100vh;\r\n  }\r\n`;\r\n\r\nconst TextEditor = dynamic(() => import(\"../features/editor/TextEditor\"), {\r\n  ssr: false,\r\n});\r\n\r\nconst LiveEditor = dynamic(() => import(\"../features/editor/LiveEditor\"), {\r\n  ssr: false,\r\n});\r\n\r\nconst EditorPage = () => {\r\n  const { query, isReady } = useRouter();\r\n  const { setColorScheme } = useMantineColorScheme();\r\n  const checkEditorSession = useFile(state => state.checkEditorSession);\r\n  const darkmodeEnabled = useConfig(state => state.darkmodeEnabled);\r\n  const fullscreen = useGraph(state => state.fullscreen);\r\n  const setVisible = useModal(state => state.setVisible);\r\n\r\n  useEffect(() => {\r\n    const isUpgradeShown = Cookie.get(\"upgrade_shown\");\r\n    if (!isUpgradeShown) {\r\n      setTimeout(() => setVisible(\"UpgradeModal\", true), 30_000);\r\n    }\r\n  }, [setVisible]);\r\n\r\n  useEffect(() => {\r\n    if (isReady) checkEditorSession(query?.json);\r\n  }, [checkEditorSession, isReady, query]);\r\n\r\n  useEffect(() => {\r\n    setColorScheme(darkmodeEnabled ? \"dark\" : \"light\");\r\n  }, [darkmodeEnabled, setColorScheme]);\r\n\r\n  return (\r\n    <>\r\n      <NextSeo\r\n        {...SEO}\r\n        title=\"Editor | JSON Crack\"\r\n        description=\"JSON Crack Editor is a tool for visualizing into graphs, analyzing, editing, formatting, querying, transforming and validating JSON, CSV, YAML, XML, and more.\"\r\n        canonical=\"https://jsoncrack.com/editor\"\r\n      />\r\n      <ThemeProvider theme={darkmodeEnabled ? darkTheme : lightTheme}>\r\n        <QueryClientProvider client={queryClient}>\r\n          <ExternalMode />\r\n          <ModalController />\r\n          <StyledEditorWrapper>\r\n            <StyledPageWrapper>\r\n              <Toolbar />\r\n              <StyledEditorWrapper>\r\n                <StyledEditor proportionalLayout={false}>\r\n                  <Allotment.Pane\r\n                    preferredSize={450}\r\n                    minSize={fullscreen ? 0 : 300}\r\n                    maxSize={800}\r\n                    visible={!fullscreen}\r\n                  >\r\n                    <TextEditor />\r\n                  </Allotment.Pane>\r\n                  <Allotment.Pane minSize={0}>\r\n                    <LiveEditor />\r\n                  </Allotment.Pane>\r\n                </StyledEditor>\r\n                <FullscreenDropzone />\r\n              </StyledEditorWrapper>\r\n            </StyledPageWrapper>\r\n            <BottomBar />\r\n          </StyledEditorWrapper>\r\n        </QueryClientProvider>\r\n      </ThemeProvider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditorPage;\r\n"],"names":["window","__NEXT_P","push","__webpack_require__","StyledBottomBar","styled","div","withConfig","theme","param","BACKGROUND_MODIFIER_ACCENT","TOOLBAR_BG","StyledLeft","StyledRight","StyledBottomBarItem","button","INTERACTIVE_NORMAL","$bg","INTERACTIVE_HOVER","BottomBar","data","useFile","state","fileData","toggleLiveTransform","useConfig","liveTransformEnabled","error","setContents","nodeCount","useGraph","nodes","length","toggleFullscreen","fullscreen","React","name","document","title","concat","jsx_runtime","jsxs","jsx","onClick","gaEvent","BiSolidDockLeft","Popover","width","shadow","position","withArrow","Target","Flex","align","gap","VscError","color","Text","c","fw","fz","Dropdown","style","pointerEvents","size","VscCheck","VscSync","VscSyncIgnored","disabled","VscRunAll","Link","href","target","rel","VscFeedback","FullscreenDropzone","Dropzone","FullScreen","maxSize","maxFiles","accept","onReject","files","toast","file","onDrop","e","fileContent","text","fileExtension","split","pop","FileFormat","JSON","contents","format","hasChanges","Group","justify","ta","h","Accept","VscFiles","mt","Reject","VscCircleSlash","ModalController","dynamic","Promise","resolve","then","bind","ExternalMode","queryClient","QueryClient","defaultOptions","queries","refetchOnWindowFocus","retry","StyledPageWrapper","StyledEditorWrapper","StyledEditor","Allotment","BACKGROUND_SECONDARY","TextEditor","ssr","LiveEditor","all","editor","query","isReady","useRouter","setColorScheme","useMantineColorScheme","checkEditorSession","darkmodeEnabled","setVisible","useModal","useEffect","Cookie","get","setTimeout","json","Fragment","NextSeo","SEO","description","canonical","ThemeProvider","darkTheme","lightTheme","QueryClientProvider","client","Toolbar","proportionalLayout","Pane","preferredSize","minSize","visible"],"sourceRoot":""}