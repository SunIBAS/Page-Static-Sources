"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1374],{37588:function(e,t,r){r.d(t,{F:function(){return n}});let n={ROW_HEIGHT:24,PARENT_HEIGHT:36}},82369:function(e,t,r){var n,o,a,l;r.d(t,{bd:function(){return s},dO:function(){return n},mS:function(){return i},u4:function(){return o}}),(a=n||(n={})).JSON="json",a.YAML="yaml",a.XML="xml",a.TOML="toml",a.CSV="csv";let s=[{value:"json",label:"JSON"},{value:"yaml",label:"YAML"},{value:"xml",label:"XML"},{value:"csv",label:"CSV"}];(l=o||(o={})).TypeScript="typescript",l.TypeScript_Combined="typescript/typealias",l.Go="go",l.JSON_SCHEMA="json_schema",l.Kotlin="kotlin",l.Rust="rust";let i=[{label:"TypeScript",value:"typescript",lang:"typescript"},{label:"TypeScript (merged)",value:"typescript/typealias",lang:"typescript"},{label:"Go",value:"go",lang:"go"},{label:"JSON Schema",value:"json_schema",lang:"json"},{label:"Kotlin",value:"kotlin",lang:"kotlin"},{label:"Rust",value:"rust",lang:"rust"}]},60227:function(e,t,r){var n,o;r.d(t,{w:function(){return n}}),(o=n||(n={})).Graph="graph",o.Tree="tree"},99253:function(e,t,r){r.d(t,{T:function(){return l}});var n=r(85893);r(67294);var o=r(956),a=r(90141);let l=()=>(0,n.jsx)(a.H,{title:"JSON Crack",children:(0,n.jsx)(o.p,{fontSize:"1.2rem",hideText:!0})})},61374:function(e,t,r){r.d(t,{o:function(){return R}});var n=r(85893);r(67294);var o=r(41664),a=r.n(o),l=r(356),s=r(95429),i=r(20085),d=r(84957),c=r(41686),u=r(86501),h=r(15581),p=r(61163),g=r(82369),m=r(956),f=r(19887),j=r(64484),x=r(97767),b=r(44304),v=r(29356),y=r(90141);let w=()=>{let e=(0,j.Z)(e=>e.setVisible),t=(0,f.Z)(e=>e.getContents),r=(0,f.Z)(e=>e.getFormat);return(0,n.jsxs)(x.v,{shadow:"md",withArrow:!0,children:[(0,n.jsx)(x.v.Target,{children:(0,n.jsx)(y.H,{title:"File",children:(0,n.jsxs)(s.k,{align:"center",gap:3,children:["File",(0,n.jsx)(v.YgJ,{})]})})}),(0,n.jsxs)(x.v.Dropdown,{children:[(0,n.jsx)(x.v.Item,{fz:12,onClick:()=>e("ImportModal",!0),children:"Import"}),(0,n.jsx)(x.v.Item,{fz:12,onClick:()=>{let e=document.createElement("a"),n=new Blob([t()],{type:"text/plain"});e.href=window.URL.createObjectURL(n),e.download="jsoncrack.".concat(r()),e.click(),(0,b.B)("save_file",{label:r()})},children:"Export"})]})]})};var C=r(99253),S=r(60589),k=r(55346),N=r(50788),O=r(91487),I=r(20104),P=r(93702),J=r(37988);let Z=()=>{let e=(0,j.Z)(e=>e.setVisible),t=(0,J.Z)(e=>e.getJson),o=(0,f.Z)(e=>e.setContents),a=(0,f.Z)(e=>e.getFormat),l=async()=>{try{let{run:e}=await r.e(810).then(r.bind(r,90810)),n=e("Root",t(),JSON.stringify({output_mode:"json_schema"})),l=S.JSONSchemaFaker.generate(JSON.parse(n)),s=await (0,P.j)(JSON.stringify(l,null,2),a());o({contents:s}),(0,b.B)("randomize_data")}catch(e){console.error(e),u.ZP.error("Failed to generate mock data")}};return(0,n.jsxs)(x.v,{shadow:"md",withArrow:!0,children:[(0,n.jsx)(x.v.Target,{children:(0,n.jsx)(y.H,{onClick:()=>(0,b.B)("show_tools_menu"),children:(0,n.jsxs)(s.k,{align:"center",gap:3,children:["Tools ",(0,n.jsx)(v.YgJ,{})]})})}),(0,n.jsxs)(x.v.Dropdown,{children:[(0,n.jsx)(x.v.Item,{fz:12,leftSection:(0,n.jsx)(I.lFM,{}),onClick:()=>{e("JQModal",!0),(0,b.B)("open_jq_modal")},children:"JSON Query (jq)"}),(0,n.jsx)(x.v.Item,{fz:12,leftSection:(0,n.jsx)(I.gkd,{}),onClick:()=>{e("SchemaModal",!0),(0,b.B)("open_schema_modal")},children:"JSON Schema"}),(0,n.jsx)(x.v.Item,{fz:12,leftSection:(0,n.jsx)(N.Wkt,{}),onClick:()=>{e("JPathModal",!0),(0,b.B)("open_json_path_modal")},children:"JSON Path"}),(0,n.jsx)(x.v.Divider,{}),(0,n.jsx)(x.v.Item,{fz:12,leftSection:(0,n.jsx)(O.HIx,{}),onClick:()=>{e("JWTModal",!0),(0,b.B)("open_jwt_modal")},children:"Decode JWT"}),(0,n.jsx)(x.v.Item,{fz:12,leftSection:(0,n.jsx)(I.Coj,{}),onClick:()=>{e("TypeModal",!0),(0,b.B)("open_type_modal")},children:"Generate Type"}),(0,n.jsx)(x.v.Item,{fz:12,leftSection:(0,n.jsx)(k.zLx,{}),onClick:l,children:"Randomize Data"})]})]})};var z=r(54185),E=r(54410),F=r(83908),_=r(20473),A=r(60227),T=r(89082);let M=()=>{let e=(0,T.Z)(e=>e.darkmodeEnabled),t=(0,T.Z)(e=>e.toggleDarkMode),[r,o]=(0,F.X)({key:"viewMode",defaultValue:A.w.Graph});return(0,n.jsxs)(x.v,{shadow:"md",closeOnItemClick:!1,withArrow:!0,children:[(0,n.jsx)(x.v.Target,{children:(0,n.jsx)(y.H,{onClick:()=>(0,b.B)("show_view_menu"),children:(0,n.jsxs)(s.k,{align:"center",gap:3,children:["View ",(0,n.jsx)(v.YgJ,{})]})})}),(0,n.jsxs)(x.v.Dropdown,{children:[(0,n.jsx)(z.s,{size:"xs",miw:"120",w:"100%",value:r,onChange:e=>{o(e),(0,b.B)("change_view_mode",{label:e})},data:[{value:A.w.Graph,label:"Graph"},{value:A.w.Tree,label:"Tree"}],fullWidth:!0,mb:"4"}),(0,n.jsx)(x.v.Divider,{}),(0,n.jsx)(x.v.Item,{leftSection:(0,n.jsx)(_.IPg,{opacity:e?100:0}),onClick:()=>{t(!e),(0,b.B)("toggle_dark_mode",{label:e?"on":"off"})},children:(0,n.jsx)(E.x,{size:"xs",children:"Dark Mode"})})]})]})},B=c.ZP.div.withConfig({componentId:"sc-14c8986b-0"})(["position:relative;display:flex;width:100%;align-items:center;gap:4px;justify-content:space-between;height:40px;padding:4px 8px;background:",";color:",";z-index:36;border-bottom:1px solid ",";@media only screen and (max-width:320px){display:none;}"],e=>{let{theme:t}=e;return t.TOOLBAR_BG},e=>{let{theme:t}=e;return t.SILVER},e=>{let{theme:t}=e;return t.SILVER_DARK});function D(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(()=>{u.ZP.error("Unable to enter fullscreen mode.")})}let R=e=>{let{isWidget:t=!1}=e,r=(0,j.Z)(e=>e.setVisible),o=(0,f.Z)(e=>e.setFormat),c=(0,f.Z)(e=>e.format);return(0,n.jsxs)(B,{children:[t&&(0,n.jsx)(C.T,{}),!t&&(0,n.jsxs)(l.Z,{gap:"xs",justify:"left",w:"100%",style:{flexWrap:"nowrap"},children:[(0,n.jsx)(y.H,{title:"JSON Crack",children:(0,n.jsx)(s.k,{gap:"xs",align:"center",justify:"center",children:(0,n.jsx)(m.p,{fontSize:"0.8rem",hideLogo:!0})})}),(0,n.jsx)(i.P,{defaultValue:"json",size:"xs",value:c,onChange:e=>o(e),miw:80,w:120,data:g.bd,allowDeselect:!1}),(0,n.jsx)(w,{}),(0,n.jsx)(M,{}),(0,n.jsx)(Z,{})]}),(0,n.jsxs)(l.Z,{gap:"6",justify:"right",w:"100%",style:{flexWrap:"nowrap"},children:[!t&&(0,n.jsx)(y.H,{title:"Fullscreen",$hide:t,onClick:D,children:(0,n.jsx)(h.vju,{size:"18"})})]})]})}},90141:function(e,t,r){r.d(t,{H:function(){return n}});let n=r(41686).ZP.button.withConfig({componentId:"sc-c47ef86d-0"})(["display:",";align-items:center;gap:4px;place-content:center;font-size:12px;background:",";color:",";padding:6px;border-radius:3px;white-space:nowrap;&:hover{background-image:linear-gradient(rgba(0,0,0,0.1) 0 0);}&:hover{color:",";opacity:1;box-shadow:none;}"],e=>{let{$hide:t}=e;return t?"none":"flex"},e=>{let{$highlight:t}=e;return t?"linear-gradient(rgba(0, 0, 0, 0.1) 0 0)":"none"},e=>{let{theme:t}=e;return t.INTERACTIVE_NORMAL},e=>{let{theme:t}=e;return t.INTERACTIVE_HOVER})},72960:function(e,t,r){r.d(t,{C:function(){return a},S:function(){return d}});var n=r(37588),o=r(89082);let a=e=>{if("string"!=typeof e)return!1;let t=/(https?:\/\/.*\.(?:png|jpg|gif|svg))/i.test(e),r=e.startsWith("data:image/")&&e.includes("base64");return t||r},l=e=>"string"==typeof e?e:e.map(e=>{let[t,r]=e;return"".concat(t,": ").concat(JSON.stringify(r).slice(0,80))}).join("\n"),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return{width:45,height:45};let r=document.createElement("div");r.style.whiteSpace=t?"nowrap":"pre-wrap",r.innerHTML=e,r.style.fontSize="12px",r.style.width="fit-content",r.style.padding="0 10px",r.style.fontWeight="500",r.style.fontFamily="monospace",document.body.appendChild(r);let o=r.getBoundingClientRect(),a=e.split("\n").length,l=o.width+4,s=t?n.F.PARENT_HEIGHT:a*n.F.ROW_HEIGHT;return document.body.removeChild(r),{width:l,height:s}},i=new Map;setInterval(()=>i.clear(),12e4);let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{imagePreviewEnabled:r}=o.Z.getState(),n=a(e)&&r,d=[e,t].toString();if(i.has(d)){let e=i.get(d);if(e)return e}let c=s(l(e),"string"==typeof e);return n&&(c.width=80,c.height=80),t&&(c.width+=80),c.width>700&&(c.width=700),i.set(d,c),c}},40234:function(e,t,r){r.d(t,{Z:function(){return m}});var n=r(64529),o=r(37988),a=r(93683);let l=(e,t,r)=>{let n={id:"e".concat(t,"-").concat(r),from:t,to:r};e.edges.push(n)};var s=r(72960);let i=e=>{let{graph:t,text:r,type:n="null",isEmpty:o=!1}=e,a=String(t.nodes.length+1),l="array"===n||"object"===n,{width:i,height:d}=(0,s.S)(r,l);return t.nodes.push({id:a,text:r,width:i,height:d,data:{type:n,isParent:l,isEmpty:o,childrenCount:l?1:0}}),a},d=e=>["boolean","string","number","null"].includes(e),c=(e,t)=>{var r,n,o,a;let l=null==e?void 0:null===(n=e.children)||void 0===n?void 0:null===(r=n[1])||void 0===r?void 0:r.type,s=null==t?void 0:null===(a=t.children)||void 0===a?void 0:null===(o=a[1])||void 0===o?void 0:o.type;return d(l)&&!d(s)?-1:0},u=e=>{let{objectToTraverse:t,states:r,myParentId:n,nextType:o,parentType:a}=e,d=r.graph,{type:h,children:p,value:g}=t;p?p&&function(e,t,r,n,o,a){let d;if("property"!==e&&""!==t.parentName){var h;if(t.brothersNode.length>0){let e=t.brothersNodeProps.find(e=>e.parentId===t.brothersParentId&&e.objectsFromArrayId===t.objectsFromArray[t.objectsFromArray.length-1]);if(e){let n=r.nodes.findIndex(t=>t.id===(null==e?void 0:e.id));if(-1!==n){let e=[...r.nodes],o=e[n];o.text=o.text.concat(t.brothersNode);let{width:a,height:l}=(0,s.S)(o.text,!1);o.width=a,o.height=l,r.nodes=e,t.brothersNode=[]}}else{let e=i({graph:r,text:t.brothersNode});t.brothersNode=[],t.brothersParentId?l(r,t.brothersParentId,e):t.notHaveParent.push(e),t.brothersNodeProps.push({id:e,parentId:t.brothersParentId,objectsFromArrayId:t.objectsFromArray[t.objectsFromArray.length-1]})}}d=i({graph:r,type:e,text:t.parentName}),t.bracketOpen.push({id:d,type:e}),t.parentName="";let n=t.brothersNodeProps.filter(e=>e.parentId===o&&e.objectsFromArrayId===t.objectsFromArray[t.objectsFromArray.length-1]);n.length>0&&(null===(h=t.bracketOpen[t.bracketOpen.length-2])||void 0===h?void 0:h.type)!=="object"||n.length>0&&1===t.bracketOpen.length?l(r,n[n.length-1].id,d):o?l(r,o,d):t.notHaveParent.push(d)}else"array"===a&&(t.objectsFromArray=[...t.objectsFromArray,t.objectsFromArrayId++]);let p=(r,n)=>{var o;u({states:t,objectToTraverse:r,parentType:e,myParentId:null===(o=t.bracketOpen[t.bracketOpen.length-1])||void 0===o?void 0:o.id,nextType:n})};if("object"===e&&n.sort(c),n.forEach((e,t,r)=>{var n;p(e,null===(n=r[t+1])||void 0===n?void 0:n.type)}),"property"!==e){if(t.brothersNode.length>0){let e=t.brothersNodeProps.find(e=>e.parentId===t.brothersParentId&&e.objectsFromArrayId===t.objectsFromArray[t.objectsFromArray.length-1]);if(e){let n=[...r.nodes],o=n.findIndex(t=>t.id===(null==e?void 0:e.id));if(n[o]&&"string"==typeof t.brothersNode){n[o].text+=t.brothersNode;let{width:e,height:a}=(0,s.S)(n[o].text,!1);n[o].width=e,n[o].height=a,r.nodes=n,t.brothersNode=[]}}else{let e=i({graph:r,text:t.brothersNode});t.brothersNode=[],t.brothersParentId?l(r,t.brothersParentId,e):t.notHaveParent=[...t.notHaveParent,e];let n={id:e,parentId:t.brothersParentId,objectsFromArrayId:t.objectsFromArray[t.objectsFromArray.length-1]};t.brothersNodeProps=[...t.brothersNodeProps,n]}}if("array"===a?t.objectsFromArray.length>0&&t.objectsFromArray.pop():t.bracketOpen.length>0&&t.bracketOpen.pop(),d){let e=r.edges.filter(e=>e.from===d),t=r.nodes.findIndex(e=>e.id===d);r.nodes=r.nodes.map((r,n)=>{if(n===t){let t=e.length;return{...r,data:{...r.data,childrenCount:t}}}return r})}}}(h,r,d,p,n,a):function(e,t,r,n,o,a){if(void 0!==e){if("property"===o&&"object"!==a&&"array"!==a)t.brothersParentId=n,void 0===a&&Array.isArray(t.brothersNode)?t.brothersNode.push([t.brotherKey,e]):t.brotherKey=e;else if("array"===o){let t=i({graph:r,text:String(e)});n&&l(r,n,t)}a&&"array"!==o&&("object"===a||"array"===a)&&(t.parentName=e)}}(g,r,d,n,a,o)},h=(e,t)=>{let r=e.map(e=>e.id);return t.filter(e=>r.includes(e.from)||r.includes(e.to))},p=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=[],a=[];if(n.includes(e)){let r=t.find(t=>t.id===e);r&&o.push(r)}let l=e=>{let s=r.filter(t=>t.from===e).map(e=>e.to),i=t.filter(e=>(n.includes(e.id)&&!a.includes(e.id)&&a.push(e.id),s.includes(e.id)&&!n.includes(e.id)));o.push(...i),i.forEach(e=>l(e.id))};return l(e),[o,a]},g={viewPort:null,direction:"RIGHT",loading:!0,graphCollapsed:!1,fullscreen:!1,collapseAll:!1,nodes:[],edges:[],collapsedNodes:[],collapsedEdges:[],collapsedParents:[],selectedNode:null,path:""};var m=(0,n.Ue)((e,t)=>({...g,toggleCollapseAll:r=>{e({collapseAll:r}),t().collapseGraph()},clearGraph:()=>e({nodes:[],edges:[],loading:!1}),getCollapsedNodeIds:()=>t().collapsedNodes,getCollapsedEdgeIds:()=>t().collapsedEdges,setSelectedNode:t=>e({selectedNode:t}),setGraph:(n,s)=>{let{nodes:d,edges:c}=function(e){try{let t={parentName:"",bracketOpen:[],objectsFromArray:[],objectsFromArrayId:0,notHaveParent:[],brothersNode:[],brothersParentId:void 0,brotherKey:"",brothersNodeProps:[],graph:{nodes:[],edges:[]}},n=(0,a.jv)(e);if(!n)throw Error("Invalid document");u({states:t,objectToTraverse:n});let{notHaveParent:o,graph:s}=t;if(o.length>1&&"array"!==n.type){let e=i({graph:s,id:null,text:"",isEmpty:!0,data:{}});o.forEach(t=>l(s,e,t))}0===t.graph.nodes.length&&("array"===n.type?i({graph:t.graph,text:"[]"}):i({graph:t.graph,text:"{}"}));let d=t.graph.nodes.filter(e=>!e.data.isParent||0!==e.data.childrenCount);return t.graph.nodes=d.map(e=>({...e,path:function(e,t,n){let{getParentsForNodeId:o}=r(58382),a="",l=o(e,t,n).map(e=>e.id).reverse().concat(n),s=["1"],i=new Map;for(let e of t)i.has(e.from)||i.set(e.from,[]),i.get(e.from).push(e.to);for(let e=1;e<t.length;e++){let r=t[e].from;s.includes(r)||i.has(r)||s.push(r)}s.length>1?a+="Root[".concat(s.findIndex(e=>e===l[0]),"]"):a+="{Root}";for(let t=1;t<l.length;t++){var d,c;let r=l[t],n=e[+r-1];if(!n)break;if((null===(d=n.data)||void 0===d?void 0:d.type)==="array"&&(a+=".".concat(n.text),t!==l.length-1)){let e=l[t+1],n=i.get(r).indexOf(e);a+="[".concat(n,"]")}(null===(c=n.data)||void 0===c?void 0:c.type)==="object"&&(a+=".".concat(n.text))}return a}(t.graph.nodes,t.graph.edges,e.id)})),t.graph.edges=t.graph.edges.filter(e=>{let r=t.graph.nodes.find(t=>t.id===e.from),n=t.graph.nodes.find(t=>t.id===e.to);return!!r&&!!n}),t.graph}catch(e){return console.error(e),{nodes:[],edges:[]}}}(null!=n?n:o.Z.getState().json);t().collapseAll?(e({nodes:d,edges:c,...s}),t().collapseGraph()):e({nodes:d,edges:c,collapsedParents:[],collapsedNodes:[],collapsedEdges:[],graphCollapsed:!1,...s})},setDirection:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"RIGHT";e({direction:r}),setTimeout(()=>t().centerView(),200)},setLoading:t=>e({loading:t}),expandNodes:r=>{let[n,o]=p(r,t().nodes,t().edges,t().collapsedParents),a=h(n,t().edges),l=a.reduce((e,t)=>(t.from&&!e.includes(t.from)&&e.push(t.from),t.to&&!e.includes(t.to)&&e.push(t.to),e),[]),s=o.filter(e=>l.includes(e)),i=n.map(e=>e.id).concat(s),d=a.map(e=>e.id),c=t().collapsedParents.filter(e=>e!==r),u=t().collapsedNodes.filter(e=>!i.includes(e));e({collapsedParents:c,collapsedNodes:u,collapsedEdges:t().collapsedEdges.filter(e=>!d.includes(e)),graphCollapsed:!!u.length})},collapseNodes:r=>{let[n]=p(r,t().nodes,t().edges),o=h(n,t().edges),a=n.map(e=>e.id),l=o.map(e=>e.id);e({collapsedParents:t().collapsedParents.concat(r),collapsedNodes:t().collapsedNodes.concat(a),collapsedEdges:t().collapsedEdges.concat(l),graphCollapsed:!!t().collapsedNodes.concat(a).length})},collapseGraph:()=>{let r=t().edges,n=r.map(e=>e.to),o=r.map(e=>e.from).filter(e=>!n.includes(e)),a=r.filter(e=>o.includes(e.from)).map(e=>e.to),l=t().nodes.filter(e=>{var t;return!o.includes(e.id)&&(null===(t=e.data)||void 0===t?void 0:t.isParent)}).map(e=>e.id),s=t().nodes.filter(e=>!o.includes(e.id)&&!a.includes(e.id)).map(e=>e.id),i=Math.min(...l.map(e=>+e)),d=document.querySelector("g[id*='node-".concat(i,"']"));if(e({collapsedParents:l,collapsedNodes:s,collapsedEdges:t().edges.filter(e=>!o.includes(e.from)).map(e=>e.id),graphCollapsed:!0}),d){var c,u;null===(u=t().viewPort)||void 0===u||null===(c=u.camera)||void 0===c||c.centerFitElementIntoView(d,{elementExtraMarginForZoom:300})}},expandGraph:()=>{e({collapsedNodes:[],collapsedEdges:[],collapsedParents:[],graphCollapsed:!1})},focusFirstNode:()=>{var e,r;let n=document.querySelector("g[id*='node-1']");null===(r=t().viewPort)||void 0===r||null===(e=r.camera)||void 0===e||e.centerFitElementIntoView(n,{elementExtraMarginForZoom:100})},setZoomFactor:e=>{var r;let n=t().viewPort;null==n||null===(r=n.camera)||void 0===r||r.recenter(n.centerX,n.centerY,e)},zoomIn:()=>{var e;let r=t().viewPort;null==r||null===(e=r.camera)||void 0===e||e.recenter(r.centerX,r.centerY,r.zoomFactor+.1)},zoomOut:()=>{var e;let r=t().viewPort;null==r||null===(e=r.camera)||void 0===e||e.recenter(r.centerX,r.centerY,r.zoomFactor-.1)},centerView:()=>{let e=t().viewPort;null==e||e.updateContainerSize();let r=document.querySelector(".jsoncrack-canvas");if(r){var n;null==e||null===(n=e.camera)||void 0===n||n.centerFitElementIntoView(r)}},toggleFullscreen:t=>e({fullscreen:t}),setViewPort:t=>e({viewPort:t})}))},98815:function(e,t,r){r.r(t),r.d(t,{default:function(){return ea},modalComponents:function(){return eo}});var n,o,a,l,s={};r.r(s),r.d(s,{DownloadModal:function(){return S},ImportModal:function(){return Z},JPathModal:function(){return en},JQModal:function(){return Q},JWTModal:function(){return R},NodeModal:function(){return T},SchemaModal:function(){return X},TypeModal:function(){return et},UpgradeModal:function(){return M.k}});var i=r(85893),d=r(67294),c=r(31253),u=r(86414),h=r(54185),p=r(11072),g=r(21005),m=r(10576),f=r(356),j=r(84957),x=r(46293),b=r(44304),v=r(86501),y=r(12515);(n=a||(a={})).SVG="svg",n.PNG="png",n.JPEG="jpeg";let w=e=>{switch(e){case"svg":return x.KT;case"png":return x.YM;case"jpeg":return x.hi}},C=["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB","transparent"],S=e=>{let{opened:t,onClose:r}=e,[n,o]=d.useState("png"),[a,l]=d.useState({filename:"jsoncrack.com",backgroundColor:"#FFFFFF",quality:1}),s=async()=>{try{var e;v.ZP.loading("Copying to clipboard...",{id:"toastClipboard"});let t=document.querySelector("svg[id*='ref']"),r=await (0,x.SE)(t,{quality:a.quality,backgroundColor:a.backgroundColor});if(!r)return;null===(e=navigator.clipboard)||void 0===e||e.write([new ClipboardItem({[r.type]:r})]),v.ZP.success("Copied to clipboard"),(0,b.B)("clipboard_img")}catch(e){v.ZP.error("Failed to copy to clipboard")}finally{v.ZP.dismiss("toastClipboard"),r()}},S=async()=>{try{v.ZP.loading("Downloading...",{id:"toastDownload"});let e=document.querySelector("svg[id*='ref']"),t=await w(n)(e,{quality:a.quality,backgroundColor:a.backgroundColor});!function(e,t){let r=document.createElement("a");r.download=t,r.href=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}(t,"".concat(a.filename,".").concat(n)),(0,b.B)("download_img",{label:n})}catch(e){v.ZP.error("Failed to download image!")}finally{v.ZP.dismiss("toastDownload"),r()}},k=(e,t)=>l({...a,[e]:t});return(0,i.jsxs)(c.u,{opened:t,onClose:r,title:"Download Image",centered:!0,children:[(0,i.jsx)(u.o,{label:"File Name",value:a.filename,onChange:e=>k("filename",e.target.value),mb:"lg"}),(0,i.jsx)(h.s,{value:n,onChange:e=>o(e),fullWidth:!0,data:[{label:"PNG",value:"png"},{label:"JPEG",value:"jpeg"},{label:"SVG",value:"svg"}],mb:"lg"}),(0,i.jsx)(p.T,{label:"Background Color",value:a.backgroundColor,onChange:e=>k("backgroundColor",e),withEyeDropper:!1,mb:"lg"}),(0,i.jsx)(g.z,{format:"rgba",value:a.backgroundColor,onChange:e=>k("backgroundColor",e),swatches:C,withPicker:!1,fullWidth:!0}),(0,i.jsx)(m.i,{my:"xs"}),(0,i.jsxs)(f.Z,{justify:"right",children:[(0,i.jsx)(j.z,{leftSection:(0,i.jsx)(y.C3L,{}),onClick:s,children:"Clipboard"}),(0,i.jsx)(j.z,{color:"green",leftSection:(0,i.jsx)(y._hL,{}),onClick:S,children:"Download"})]})]})};var k=r(8207),N=r(34124),O=r(54410),I=r(24385),P=r(15581),J=r(19887);let Z=e=>{var t;let{opened:r,onClose:n}=e,[o,a]=d.useState(""),[l,s]=d.useState(null),h=(0,J.Z)(e=>e.setContents),p=(0,J.Z)(e=>e.setFormat);return(0,i.jsxs)(c.u,{title:"Import File",opened:r,onClose:()=>{s(null),a(""),n()},centered:!0,children:[(0,i.jsxs)(k.K,{py:"sm",children:[(0,i.jsx)(u.o,{value:o,onChange:e=>a(e.target.value),type:"url",placeholder:"URL of JSON to fetch","data-autofocus":!0}),(0,i.jsx)(N.X,{radius:"md",style:{cursor:"pointer"},children:(0,i.jsx)(I.fh,{onDrop:e=>s(e[0]),onReject:e=>v.ZP.error("Unable to load file ".concat(e[0].file.name)),maxSize:512e3,maxFiles:1,p:"md",accept:["application/json","application/x-yaml","text/csv","application/xml","application/toml"],children:(0,i.jsxs)(k.K,{justify:"center",align:"center",gap:"sm",mih:220,children:[(0,i.jsx)(P.aBR,{size:48}),(0,i.jsx)(O.x,{fw:"bold",children:"Drop here or click to upload files"}),(0,i.jsx)(O.x,{c:"dimmed",fz:"xs",children:"(Max 500 KB)"}),(0,i.jsx)(O.x,{c:"dimmed",fz:"sm",children:null!==(t=null==l?void 0:l.name)&&void 0!==t?t:"None"})]})})})]}),(0,i.jsx)(f.Z,{justify:"right",children:(0,i.jsx)(j.z,{onClick:()=>{if(o)return s(null),v.ZP.loading("Loading...",{id:"toastFetch"}),(0,b.B)("fetch_url"),fetch(o).then(e=>e.json()).then(e=>{h({contents:JSON.stringify(e,null,2)}),n()}).catch(()=>v.ZP.error("Failed to fetch JSON!")).finally(()=>v.ZP.dismiss("toastFetch"));if(l){let e=l.name.lastIndexOf("."),t=l.name.substring(e+1);p(t),l.text().then(e=>{h({contents:e}),s(null),a(""),n()}),(0,b.B)("import_file",{label:t})}},disabled:!(l||o),children:"Import"})})]})};var z=r(24566),E=r(2339),F=r(64484),_=r(40234);let A=e=>JSON.stringify(Array.isArray(e)?Object.fromEntries(e):e,(e,t)=>"string"==typeof t?t.replaceAll('"',""):t,2),T=e=>{let{opened:t,onClose:r}=e,n=(0,F.Z)(e=>e.setVisible),o=(0,_.Z)(e=>{var t;return A(null===(t=e.selectedNode)||void 0===t?void 0:t.text)}),a=(0,_.Z)(e=>{var t;return(null===(t=e.selectedNode)||void 0===t?void 0:t.path)||""});return(0,i.jsx)(c.u,{title:"Node Content",size:"auto",opened:t,onClose:r,centered:!0,children:(0,i.jsxs)(k.K,{py:"sm",gap:"sm",children:[(0,i.jsxs)(k.K,{gap:"xs",children:[(0,i.jsx)(O.x,{fz:"xs",fw:500,children:"Content"}),(0,i.jsx)(z.x.Autosize,{mah:250,maw:600,children:(0,i.jsx)(E.P,{code:o,miw:350,maw:600,language:"json",withCopyButton:!0})})]}),(0,i.jsx)(j.z,{onClick:()=>{n("UpgradeModal",!0),(0,b.B)("click_node_edit")},children:"Edit"}),(0,i.jsx)(O.x,{fz:"xs",fw:500,children:"JSON Path"}),(0,i.jsx)(z.x.Autosize,{maw:600,children:(0,i.jsx)(E.P,{code:a,miw:350,mah:250,language:"json",copyLabel:"Copy to clipboard",copiedLabel:"Copied to clipboard",withCopyButton:!0})})]})})};var M=r(88146),B=r(83054),D=r(49704);let R=e=>{let{opened:t,onClose:r}=e,n=(0,J.Z)(e=>e.setContents),[o,a]=d.useState("");return(0,i.jsxs)(c.u,{title:"Decode JSON Web Token",opened:t,onClose:r,centered:!0,children:[(0,i.jsx)(B.g,{placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6Ikhlcm93YW5kIiwidXJsIjoiaHR0cHM6Ly9oZXJvd2FuZC5jb20iLCJpYXQiOjE1MTYyMzkwMjJ9.Tmm3Miq6KWCF_QRn3iERhhXThJzv4LQPKYwBhYUld88",value:o,onChange:e=>a(e.target.value),autosize:!0,minRows:5,"data-autofocus":!0}),(0,i.jsx)(f.Z,{mt:"xs",justify:"right",children:(0,i.jsx)(j.z,{onClick:()=>{o&&(n({contents:JSON.stringify((0,D.decode)(o),null,2)}),(0,b.B)("resolve_jwt"),a(""),r())},disabled:!o,children:"Resolve"})})]})};var L=r(60967),G=r(97767),H=r(63764),V=r(55346),q=r(20104),K=r(82369),U=r(89082);let X=e=>{let{opened:t,onClose:n}=e,o=(0,J.Z)(e=>e.setContents),a=(0,J.Z)(e=>e.setJsonSchema),l=(0,U.Z)(e=>e.darkmodeEnabled?"vs-dark":"light"),[s,u]=d.useState(JSON.stringify({$schema:"http://json-schema.org/draft-04/schema#",title:"Product",description:"A product from catalog",type:"object",properties:{id:{description:"The unique identifier for a product",type:"integer"}},required:["id"]},null,2)),h=async()=>{try{let{JSONSchemaFaker:e}=await Promise.resolve().then(r.bind(r,60589)),t=e.generate(JSON.parse(s));o({contents:JSON.stringify(t,null,2),format:K.dO.JSON}),(0,b.B)("generate_schema_mock_data"),n()}catch(e){console.error(e),v.Am.error("Invalid Schema")}};return(0,i.jsx)(c.u,{title:"JSON Schema",size:"lg",opened:t,onClose:n,centered:!0,children:(0,i.jsxs)(k.K,{children:[(0,i.jsx)(O.x,{fz:"sm",children:"Any validation failures are shown at the bottom toolbar of pane."}),(0,i.jsxs)(L.e,{fz:"sm",target:"_blank",href:"https://niem.github.io/json/sample-schema/",rel:"noopener noreferrer",children:["View Examples ",(0,i.jsx)(q.wz_,{})]}),(0,i.jsx)(N.X,{withBorder:!0,radius:"sm",style:{overflow:"hidden"},children:(0,i.jsx)(H.ZP,{value:null!=s?s:"",theme:l,onChange:e=>u(e),height:300,language:"json",options:{formatOnPaste:!0,tabSize:2,formatOnType:!0,scrollBeyondLastLine:!1,stickyScroll:{enabled:!1},minimap:{enabled:!1}}})}),(0,i.jsxs)(f.Z,{p:"0",justify:"right",children:[(0,i.jsx)(j.z,{variant:"subtle",color:"gray",onClick:()=>{a(null),u(""),(0,v.Am)("Disabled JSON Schema"),n()},disabled:!s,children:"Clear"}),(0,i.jsxs)(j.z.Group,{children:[(0,i.jsx)(j.z,{variant:"default",onClick:()=>{try{let e=JSON.parse(s);a(e),(0,b.B)("apply_json_schema"),v.Am.success("Applied schema!"),n()}catch(e){v.Am.error("Invalid Schema")}},disabled:!s,children:"Apply"}),(0,i.jsxs)(G.v,{children:[(0,i.jsx)(G.v.Target,{children:(0,i.jsx)(j.z,{variant:"default",color:"blue",px:"xs",disabled:!s,children:(0,i.jsx)(V.RiI,{})})}),(0,i.jsx)(G.v.Dropdown,{children:(0,i.jsx)(G.v.Item,{onClick:h,children:"Generate Mock Data"})})]})]})]})]})})};var Y=r(37988),W=()=>{let e=(0,Y.Z)(e=>e.getJson),t=(0,J.Z)(e=>e.setContents),n=async e=>{let{value:t}=e,{run:n}=await r.e(810).then(r.bind(r,90810));return n("Root",t,JSON.stringify({output_mode:"typescript/typealias"}))};return{updateJson:async(n,o)=>{try{let a=await Promise.all([r.e(194),r.e(3318)]).then(r.t.bind(r,18284,23)),l=await a.promised.json(JSON.parse(e()),n);t({contents:JSON.stringify(l,null,2)}),null==o||o()}catch(e){console.error(e),v.ZP.error("Unable to process the request.")}},getJsonType:async()=>await n({value:e()})}};let Q=e=>{let{opened:t,onClose:r}=e,{updateJson:n}=W(),[o,a]=d.useState("");return(0,i.jsx)(c.u,{title:"JSON Query",size:"lg",opened:t,onClose:r,centered:!0,children:(0,i.jsxs)(k.K,{children:[(0,i.jsxs)(O.x,{fz:"sm",children:["jq is a lightweight and flexible command-line JSON processor. JSON Crack uses simplified version of jq, not all features are supported.",(0,i.jsx)("br",{}),(0,i.jsxs)(L.e,{fz:"sm",target:"_blank",href:"https://jqlang.github.io/jq/manual/",rel:"noopener noreferrer",children:["Read documentation. ",(0,i.jsx)(q.wz_,{})]})]}),(0,i.jsx)(u.o,{leftSection:"jq",placeholder:"Enter jq query",value:o,onChange:e=>a(e.currentTarget.value)}),(0,i.jsx)(f.Z,{justify:"right",children:(0,i.jsx)(j.z,{onClick:()=>n(o,r),children:"Display on Graph"})})]})})};var $=r(20085);(o=l||(l={})).TypeScript="typescript",o.TypeScript_Combined="typescript/typealias",o.Go="go",o.JSON_SCHEMA="json_schema",o.Kotlin="kotlin",o.Rust="rust";let ee=[{label:"TypeScript",value:"typescript",lang:"typescript"},{label:"TypeScript (combined)",value:"typescript/typealias",lang:"typescript"},{label:"Go",value:"go",lang:"go"},{label:"JSON Schema",value:"json_schema",lang:"json"},{label:"Kotlin",value:"kotlin",lang:"kotlin"},{label:"Rust",value:"rust",lang:"rust"}],et=e=>{let{opened:t,onClose:n}=e,o=(0,Y.Z)(e=>e.getJson),[a,l]=d.useState(""),[s,u]=d.useState("typescript"),h=d.useMemo(()=>{var e;return null===(e=ee[ee.findIndex(e=>e.value===s)])||void 0===e?void 0:e.lang},[s]),p=d.useCallback(async e=>{let{value:t}=e,{run:n}=await r.e(810).then(r.bind(r,90810));return n("Root",t,JSON.stringify({output_mode:s}))},[s]);return d.useEffect(()=>{if(t)try{"go"===s?r.e(169).then(r.t.bind(r,90169,23)).then(e=>{Promise.all([r.e(6803),r.e(6274)]).then(r.t.bind(r,41940,23)).then(t=>{let r=e.default(o());l(t.default(r.go))})}):p({value:o()}).then(l)}catch(e){console.error(e)}},[o,t,s,p]),(0,i.jsx)(c.u,{title:"Generate Types",size:"lg",opened:t,onClose:n,centered:!0,children:(0,i.jsxs)(k.K,{pos:"relative",children:[(0,i.jsx)($.P,{value:s,data:ee,onChange:e=>{u(e),(0,b.B)("generate_type",{label:e})},allowDeselect:!1}),(0,i.jsx)(z.x.Autosize,{mah:400,maw:700,children:(0,i.jsx)(E.P,{language:h,copyLabel:"Copy to clipboard",copiedLabel:"Copied to clipboard",code:a,styles:{root:{borderRadius:6}}})})]})})};var er=r(85883);let en=e=>{let{opened:t,onClose:r}=e,n=(0,Y.Z)(e=>e.getJson),o=(0,J.Z)(e=>e.setContents),[a,l]=d.useState("");return(0,i.jsx)(c.u,{title:"JSON Path",size:"lg",opened:t,onClose:r,centered:!0,children:(0,i.jsxs)(k.K,{children:[(0,i.jsxs)(O.x,{fz:"sm",children:['JsonPath expressions always refer to a JSON structure in the same way as XPath expression are used in combination with an XML document. The "root member object" in JsonPath is always referred to as $ regardless if it is an object or array.',(0,i.jsx)("br",{}),(0,i.jsxs)(L.e,{fz:"sm",target:"_blank",href:"https://docs.oracle.com/cd/E60058_01/PDF/8.0.8.x/8.0.8.0.0/PMF_HTML/JsonPath_Expressions.htm",rel:"noopener noreferrer",children:["Read documentation. ",(0,i.jsx)(q.wz_,{})]})]}),(0,i.jsx)(u.o,{value:a,onChange:e=>l(e.currentTarget.value),placeholder:"Enter JSON Path...","data-autofocus":!0}),(0,i.jsx)(f.Z,{justify:"right",children:(0,i.jsx)(j.z,{onClick:()=>{try{let e=n(),t=(0,er.j)({path:a,json:JSON.parse(e)});o({contents:JSON.stringify(t,null,2)}),(0,b.B)("run_json_path"),r()}catch(e){e instanceof Error&&v.ZP.error(e.message)}},disabled:!a.length,children:"Run"})})]})})},eo=Object.freeze(Object.keys(s)).map(e=>({key:e,component:s[e]}));var ea=()=>{let e=(0,F.Z)(e=>e.setVisible),t=(0,F.Z)(e=>eo.map(t=>e[t.key]));return(0,i.jsx)(i.Fragment,{children:eo.map((r,n)=>{let{key:o,component:a}=r,l=t[n];return(0,i.jsx)(a,{opened:l,onClose:()=>e(o,!1)},o)})})}},88146:function(e,t,r){r.d(t,{T:function(){return y},k:function(){return w}});var n=r(85893);r(67294);var o=r(41664),a=r.n(o),l=r(95429),s=r(60553),i=r(44317),d=r(60967),c=r(28855),u=r(80929),h=r(10576),p=r(31253),g=r(54410),m=r(356),f=r(84957),j=r(31955),x=r(65550),b=r(89082),v=r(99253);let y=e=>{let t=(0,b.Z)(e=>e.darkmodeEnabled);return(0,n.jsxs)(l.k,{direction:"column",gap:"0",...e,children:[(0,n.jsxs)(l.k,{gap:"sm",children:[(0,n.jsxs)(s.a,{center:!0,icon:(0,n.jsx)(i.k,{color:"green",variant:"transparent",children:(0,n.jsx)(x.Nhk,{})}),children:[(0,n.jsx)(s.a.Item,{children:"Load larger datasets (100x more)"}),(0,n.jsx)(s.a.Item,{children:"Modify data from diagrams"}),(0,n.jsx)(s.a.Item,{children:"Clean and fast layout"})]}),(0,n.jsxs)(s.a,{center:!0,icon:(0,n.jsx)(i.k,{color:"green",variant:"transparent",children:(0,n.jsx)(x.Nhk,{})}),children:[(0,n.jsx)(s.a.Item,{children:"Customize colors"}),(0,n.jsx)(s.a.Item,{children:"Improved UI & More tools"}),(0,n.jsx)(s.a.Item,{children:(0,n.jsx)(d.e,{href:"https://chromewebstore.google.com/detail/todiagram/gpcnkpjdmgihedngamkhendifclghjhn",rel:"noopener",target:"_blank",inherit:!0,c:"teal",children:"Chrome Extension"})})]})]}),(0,n.jsxs)(c.x,{mt:"lg",children:[(0,n.jsx)(u.E,{src:"/assets/diagram-".concat(t?"dark":"light",".png"),alt:"diagram",mah:"120",fit:"cover",mx:"auto",width:"auto",style:{filter:"drop-shadow(3px -3px 2px rgba(0, 0, 0, 0.2))",objectPosition:"top"}}),(0,n.jsx)(h.i,{maw:"600",w:"100%",mb:"lg"})]})]})},w=e=>{let{opened:t,onClose:r}=e,o=()=>{j.Z.set("upgrade_shown","true",{expires:3}),r()};return(0,n.jsxs)(p.u,{size:"auto",opened:t,onClose:o,zIndex:1001,centered:!0,radius:"md",overlayProps:{blur:2},withCloseButton:!1,closeOnClickOutside:!1,title:(0,n.jsxs)(l.k,{align:"center",gap:"4",children:[(0,n.jsx)(v.T,{}),(0,n.jsx)(g.x,{fz:"lg",fw:"600",children:"JSON Crack 2.0 - Professional Edition"})]}),children:[(0,n.jsx)(y,{}),(0,n.jsxs)(m.Z,{justify:"space-between",children:[(0,n.jsx)(f.z,{onClick:o,color:"gray",variant:"subtle",children:"Maybe later"}),(0,n.jsx)(a(),{href:"https://todiagram.com/editor?utm_source=jsoncrack&utm_medium=upgrade_modal",rel:"noopener",target:"_blank",children:(0,n.jsx)(f.z,{onClick:o,color:"teal",children:"Try Now â†’"})})]})]})}},956:function(e,t,r){r.d(t,{p:function(){return p}});var n=r(85893),o=r(79071),a=r.n(o),l=r(67294),s=r(41664),i=r.n(s),d=r(80929),c=r(41686);let u=c.ZP.div.withConfig({componentId:"sc-52c86ac9-0"})(["display:flex;align-items:center;gap:8px;"]),h=c.ZP.span.withConfig({componentId:"sc-52c86ac9-1"})(["font-weight:800;margin:0;font-family:"," !important;font-size:",";white-space:nowrap;z-index:10;vertical-align:middle;color:white;mix-blend-mode:difference;"],a().style.fontFamily,e=>{let{fontSize:t}=e;return t}),p=e=>{let{fontSize:t="1.2rem",hideText:r,hideLogo:o,...a}=e,[s,c]=l.useState(!1);return(0,l.useEffect)(()=>{c(void 0!==window&&window.location.href.includes("widget"))},[]),(0,n.jsx)(i(),{href:"/",prefetch:!1,target:s?"_blank":"_self",children:(0,n.jsxs)(u,{children:[!o&&(0,n.jsx)(d.E,{src:"/assets/192.png",loading:"eager",width:18*parseFloat(t),height:18*parseFloat(t),alt:"logo",radius:4,mb:"2"}),!r&&(0,n.jsx)(h,{fontSize:t,...a,children:"JSON CRACK"})]})})}},93702:function(e,t,r){r.d(t,{L:function(){return a},j:function(){return l}});var n=r(82369);let o=(e,t)=>{if(e&&("object"==typeof e||Array.isArray(e))){if(e.hasOwnProperty(t))return e[t];if(Array.isArray(e))for(let r=0;r<e.length;r++){let n=o(e[r],t);if(n)return n}else for(let r in e){let n=o(e[r],t);if(n)return n}}return!1},a=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.dO.JSON;try{let{load:a}=await r.e(1272).then(r.bind(r,1272)),{csv2json:l}=await r.e(7542).then(r.bind(r,17542)),{parse:s}=await r.e(3683).then(r.bind(r,93683)),i=await r.e(4807).then(r.t.bind(r,94807,23)),d=await r.e(5424).then(r.t.bind(r,35424,23)),c={};if(t===n.dO.JSON&&(c=s(e)),t===n.dO.YAML&&(c=a(e)),t===n.dO.XML&&(c=i.stringToJs(e)),t===n.dO.TOML&&(c=d.parse(e)),t===n.dO.CSV&&(c=await l(e)),t===n.dO.XML&&o(c,"parsererror"))throw Error("Unknown error!");if(!c)throw Error("Invalid JSON!");return Promise.resolve(c)}catch(e){throw e}},l=async(e,t)=>{try{let{dump:o}=await r.e(1272).then(r.bind(r,1272)),{json2csv:a}=await r.e(7542).then(r.bind(r,17542)),{parse:l}=await r.e(3683).then(r.bind(r,93683)),s=e;if(!e)return e;return t===n.dO.JSON&&(s=e),t===n.dO.YAML&&(s=o(l(e))),t===n.dO.XML&&(s=o(l(e))),t===n.dO.TOML&&(s=o(l(e))),t===n.dO.CSV&&(s=await a(l(e))),Promise.resolve(s)}catch(e){throw e}}},89082:function(e,t,r){var n=r(64529),o=r(782),a=r(40234);let l={darkmodeEnabled:!0,collapseButtonVisible:!0,childrenCountVisible:!0,imagePreviewEnabled:!0,liveTransformEnabled:!0,gesturesEnabled:!1,rulersEnabled:!0},s=(0,n.Ue)((0,o.tJ)(e=>({...l,toggleRulers:t=>e({rulersEnabled:t}),toggleGestures:t=>e({gesturesEnabled:t}),toggleLiveTransform:t=>e({liveTransformEnabled:t}),toggleDarkMode:t=>e({darkmodeEnabled:t}),toggleCollapseButton:t=>e({collapseButtonVisible:t}),toggleChildrenCount:t=>e({childrenCountVisible:t}),toggleImagePreview:t=>{e({imagePreviewEnabled:t}),a.Z.getState().setGraph()}}),{name:"config"}));t.Z=s},19887:function(e,t,r){r.d(t,{Z:function(){return j}});var n=r(91296),o=r.n(n),a=r(44304),l=r(86501),s=r(64529),i=r(82369),d=r(40234),c=r(93702),u=r(89082),h=r(37988);let p=JSON.stringify({fruits:[{name:"Apple",color:"Red",nutrients:{calories:52,fiber:"2.4g",vitaminC:"4.6mg"}},{name:"Banana",color:"Yellow",nutrients:{calories:89,fiber:"2.6g",potassium:"358mg"}},{name:"Orange",color:"Orange",nutrients:{calories:47,fiber:"2.4g",vitaminC:"53.2mg"}}]},null,2),g={fileData:null,format:i.dO.JSON,contents:p,error:null,hasChanges:!1,jsonSchema:null},m=e=>/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi.test(e),f=o()(e=>{d.Z.getState().setLoading(!0),h.Z.getState().setJson(JSON.stringify(e,null,2))},800);var j=(0,s.Ue)()((e,t)=>({...g,clear:()=>{e({contents:""}),h.Z.getState().clear()},setJsonSchema:t=>e({jsonSchema:t}),setFile:r=>{e({fileData:r,format:r.format||i.dO.JSON}),t().setContents({contents:r.content,hasChanges:!1}),(0,a.B)("set_content",{label:r.format})},getContents:()=>t().contents,getFormat:()=>t().format,getHasChanges:()=>t().hasChanges,setFormat:async r=>{try{let n=t().format;e({format:r});let o=await (0,c.L)(t().contents,n),a=await (0,c.j)(JSON.stringify(o,null,2),r);t().setContents({contents:a})}catch(e){t().clear(),console.warn("The content was unable to be converted, so it was cleared instead.")}},setContents:async r=>{let{contents:n,hasChanges:o=!0,skipUpdate:a=!1,format:l}=r;try{e({...n&&{contents:n},error:null,hasChanges:o,format:null!=l?l:t().format});let r=window.location.href.includes("?"),s=await (0,c.L)(t().contents,t().format);if(!u.Z.getState().liveTransformEnabled&&a)return;t().hasChanges&&n&&n.length<8e4&&!function(){try{return window.self!==window.top}catch(e){return!0}}()&&!r&&(sessionStorage.setItem("content",n),sessionStorage.setItem("format",t().format),e({hasChanges:!0})),f(s)}catch(t){var s;if(null==t?void 0:null===(s=t.mark)||void 0===s?void 0:s.snippet)return e({error:t.mark.snippet});(null==t?void 0:t.message)&&e({error:t.message}),h.Z.setState({loading:!1}),d.Z.setState({loading:!1})}},setError:t=>e({error:t}),setHasChanges:t=>e({hasChanges:t}),fetchUrl:async e=>{try{let r=await fetch(e),n=await r.json(),o=JSON.stringify(n,null,2);return t().setContents({contents:o}),h.Z.setState({json:o,loading:!1})}catch(e){t().clear(),l.Am.error("Failed to fetch document from URL!")}},checkEditorSession:(r,n)=>{if(r&&"string"==typeof r&&m(r))return t().fetchUrl(r);let o=p,a=sessionStorage.getItem("content"),l=sessionStorage.getItem("format");a&&!n&&(o=a),l&&e({format:l}),t().setContents({contents:o,hasChanges:!1})}}))},37988:function(e,t,r){var n=r(64529),o=r(40234);let a={json:"",loading:!0},l=(0,n.Ue)()((e,t)=>({...a,getJson:()=>t().json,setJson:t=>{e({json:t,loading:!1}),o.Z.getState().setGraph(t)},clear:()=>{e({json:"",loading:!1}),o.Z.getState().clearGraph()}}));t.Z=l},64484:function(e,t,r){var n=r(64529);let o=r(98815).modalComponents.reduce((e,t)=>{let{key:r}=t;return{...e,[r]:!1}},{}),a=(0,n.Ue)()(e=>({...o,setVisible:(t,r)=>e({[t]:r})}));t.Z=a}}]);
//# sourceMappingURL=1374-1cda97c5614b4291.js.map
